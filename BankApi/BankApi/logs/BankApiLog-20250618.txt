2025-06-18 11:47:58.750 +05:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-18 11:47:58.859 +05:00 [INF] Now listening on: https://localhost:7262
2025-06-18 11:47:58.861 +05:00 [INF] Now listening on: http://localhost:5027
2025-06-18 11:47:58.926 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-18 11:47:58.928 +05:00 [INF] Hosting environment: Development
2025-06-18 11:47:58.929 +05:00 [INF] Content root path: C:\practice\practice\BankApi\BankApi
2025-06-18 11:47:59.391 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/index.html - null null
2025-06-18 11:47:59.509 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/index.html - 200 null text/html;charset=utf-8 119.1246ms
2025-06-18 11:47:59.546 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-06-18 11:47:59.558 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-06-18 11:47:59.565 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 18.917ms
2025-06-18 11:47:59.589 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.8912ms
2025-06-18 11:47:59.763 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-06-18 11:47:59.782 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.7757ms
2025-06-18 11:48:15.043 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/1/Client/LoginClient - application/json 47
2025-06-18 11:48:15.095 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18.06.2025 6:38:10', Current time (UTC): '18.06.2025 6:48:15'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-18 11:48:15.103 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18.06.2025 6:38:10', Current time (UTC): '18.06.2025 6:48:15'.
2025-06-18 11:48:15.106 +05:00 [INF] Executing endpoint 'BankApi.Controllers.ClientController.LoginClient (BankApi)'
2025-06-18 11:48:15.124 +05:00 [INF] Route matched with {action = "LoginClient", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[BankApi.Domain.DTOs.ClientShowDto] LoginClient(BankApi.Domain.DTOs.LoginDto) on controller BankApi.Controllers.ClientController (BankApi).
2025-06-18 11:48:16.035 +05:00 [INF] Executed DbCommand (33ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."DateBirth", c."Login", c."Name", c."NumberPassport", c."PasswordHash", c."Patronymic", c."RefreshToken", c."RefreshTokenExpiryTime", c."SerialPassport", c."Surname"
FROM "Clients" AS c
WHERE c."Login" = @__dto_Login_0
LIMIT 1
2025-06-18 11:48:16.166 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p10='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Int64), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Clients" SET "DateBirth" = @p0, "Login" = @p1, "Name" = @p2, "NumberPassport" = @p3, "PasswordHash" = @p4, "Patronymic" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiryTime" = @p7, "SerialPassport" = @p8, "Surname" = @p9
WHERE "Id" = @p10;
2025-06-18 11:48:16.187 +05:00 [INF] Executing ObjectResult, writing value of type 'BankApi.Domain.DTOs.ClientShowDto'.
2025-06-18 11:48:16.199 +05:00 [INF] Executed action BankApi.Controllers.ClientController.LoginClient (BankApi) in 1070.9676ms
2025-06-18 11:48:16.200 +05:00 [INF] Executed endpoint 'BankApi.Controllers.ClientController.LoginClient (BankApi)'
2025-06-18 11:48:16.206 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/1/Client/LoginClient - 200 null application/json; charset=utf-8 1163.0695ms
